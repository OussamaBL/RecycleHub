<app-navbar />
<app-sidebar />
<div class="p-4 sm:ml-64">
  <div class="p-4 mt-14">
    <div class="flex items-center justify-center">
      <div class="bg-white shadow-sm rounded-lg p-6 w-full max-w-4xl">
        <h3 class="text-2xl font-bold text-center mb-6">Your Profile</h3>
        <form
          [formGroup]="profileForm"
          (ngSubmit)="onUpdate()"
          class="space-y-4"
        >
          <!-- First Row -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block mb-2 text-gray-700" for="email">Email</label>
              <input
                type="email"
                id="email"
                placeholder="Email"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"
                formControlName="email"
              />
              <div
                *ngIf="
                  profileForm.get('email')?.invalid &&
                  (profileForm.get('email')?.dirty ||
                    profileForm.get('email')?.touched)
                "
                class="text-red-500 mt-1 text-sm"
              >
                <div *ngIf="profileForm.get('email')?.errors?.['required']">
                  Email is required.
                </div>
                <div *ngIf="profileForm.get('email')?.errors?.['email']">
                  Please enter a valid email.
                </div>
              </div>
            </div>
            <div>
              <label class="block mb-2 text-gray-700">Phone Number</label>
              <input
                type="tel"
                placeholder="Phone Number"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"
                formControlName="phoneNumber"
              />
              <div
                *ngIf="
                  profileForm.get('phoneNumber')?.invalid &&
                  (profileForm.get('phoneNumber')?.dirty ||
                    profileForm.get('phoneNumber')?.touched)
                "
                class="text-red-500 mt-1 text-sm"
              >
                <div
                  *ngIf="profileForm.get('phoneNumber')?.errors?.['required']"
                >
                  Phone Number is required.
                </div>
                <div
                  *ngIf="profileForm.get('phoneNumber')?.errors?.['pattern']"
                >
                  Please enter a valid phone number.
                </div>
              </div>
            </div>
          </div>

          <!-- Second Row -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block mb-2 text-gray-700">First Name</label>
              <input
                type="text"
                placeholder="First Name"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"
                formControlName="firstName"
              />
              <div
                *ngIf="
                  profileForm.get('firstName')?.invalid &&
                  (profileForm.get('firstName')?.dirty ||
                    profileForm.get('firstName')?.touched)
                "
                class="text-red-500 mt-1 text-sm"
              >
                <div *ngIf="profileForm.get('firstName')?.errors?.['required']">
                  First Name is required.
                </div>
              </div>
            </div>
            <div>
              <label class="block mb-2 text-gray-700">Last Name</label>
              <input
                type="text"
                placeholder="Last Name"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"
                formControlName="lastName"
              />
              <div
                *ngIf="
                  profileForm.get('lastName')?.invalid &&
                  (profileForm.get('lastName')?.dirty ||
                    profileForm.get('lastName')?.touched)
                "
                class="text-red-500 mt-1 text-sm"
              >
                <div *ngIf="profileForm.get('lastName')?.errors?.['required']">
                  Last Name is required.
                </div>
              </div>
            </div>
          </div>

          <!-- Third Row -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block mb-2 text-gray-700">Address</label>
              <input
                type="text"
                placeholder="Address"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"
                formControlName="address"
              />
              <div
                *ngIf="
                  profileForm.get('address')?.invalid &&
                  (profileForm.get('address')?.dirty ||
                    profileForm.get('address')?.touched)
                "
                class="text-red-500 mt-1 text-sm"
              >
                <div *ngIf="profileForm.get('address')?.errors?.['required']">
                  Address is required.
                </div>
              </div>
            </div>
            <div>
              <label class="block mb-2 text-gray-700">Date of Birth</label>
              <input
                type="date"
                class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600"
                formControlName="dateOfBirth"
              />
              <div
                *ngIf="
                  profileForm.get('dateOfBirth')?.invalid &&
                  (profileForm.get('dateOfBirth')?.dirty ||
                    profileForm.get('dateOfBirth')?.touched)
                "
                class="text-red-500 mt-1 text-sm"
              >
                <div
                  *ngIf="profileForm.get('dateOfBirth')?.errors?.['required']"
                >
                  Date of Birth is required.
                </div>
              </div>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="mt-6">
            <button
              class="w-full px-6 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-900"
              type="submit"
              [disabled]="profileForm.invalid"
            >
              Update Profile
            </button>
          </div>
        </form>

        <button
        (click)="onDelete()"
          class="w-full mt-5 px-6 py-2 text-white bg-red-600 rounded-lg hover:bg-red-900"
        >
          Delete Acc
        </button>

        <!-- Messages -->
        <div *ngIf="errorMessage" class="text-red-500 mt-4 text-center">
          {{ errorMessage }}
        </div>
      </div>
    </div>
  </div>
</div>
